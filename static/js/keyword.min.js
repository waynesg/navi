$((function(){var searchTypeStore_set=function(type){localStorage.setItem("SearchType",type)},searchTypeStore_get=function(){return localStorage.getItem("SearchType")||"google"},$searchMethods=$("#search_methods"),$searchLogo=$("#search_logo"),initSearchType=searchTypeStore_get();$searchLogo.addClass(initSearchType).data("type",initSearchType);var search_types=[{url:"https://www.baidu.com/s?wd=",type:"baidu"},{url:"https://www.sogou.com/web?query=",type:"sogou"},{url:"https://cn.bing.com/search?q=",type:"bing"},{url:"https://www.so.com/s?q=",type:"so"},{url:"https://www.google.com/search?q=",type:"google"},{url:"http://www.cilimao.cc/search?word=",type:"cili"},{url:"http://neets.cc/search?key=",type:"yingyin"},{url:"http://www.panduoduo.net/s/name/",type:"wangpan"},{url:"https://search.jd.com/Search?keyword=",type:"jingdong"}];$searchLogo.on("click",(function(){$searchMethods.show()})),$searchMethods.on("click","li",(function(){var type=$(this).data("type");searchTypeStore_set(type),$searchLogo.removeClass().data("type",type).addClass(type+" search-logo"),$searchMethods.hide(),$("#search_keyword").focus()})),$searchMethods.on("mouseleave",(function(){$searchMethods.hide()}));var EVENT_CLEAR_KEYWORD="clearKeyword",EVENT_SEARCH="search";function moveChange(e){var k,bl=!0;switch(e.keyCode||e.which){case 38:rowMove("top"),bl=!1;break;case 40:rowMove("down"),bl=!1}return bl}function rowMove(move){var search_result=$("#search_result"),hove_li=null;search_result.find(".result-item").each((function(){$(this).hasClass("active")&&(hove_li=$(this).index())})),"top"==move?null==hove_li?hove_li=search_result.find(".result-item").length-1:hove_li--:"down"==move&&(null==hove_li?hove_li=0:hove_li==search_result.find(".result-item").length-1?hove_li=0:hove_li++),search_result.find(".active").removeClass("active"),search_result.find(".result-item").eq(hove_li).addClass("active")}function keywordChange(keyword){""===keyword?$(document).trigger("clearKeyword"):($(document).trigger("search",keyword),$("#clear_keyword").show())}function getSeachType(){return $("#search_logo").data("type")}function searchResultGoogle(data){var result=data[1];renderSearchResult(result=result.map((function(item){return item[0]})))}function searchResultBaidu(data){var result;void 0!==data&&renderSearchResult(data.s)}function renderSearchResult(array){var $result=$("#search_result");if($result.empty().hide(),array&&!(array.length<=0)){for(var i=0;i<array.length;i++){var $li=$("<li class='result-item'></li>");$li.text(array[i]),$result.append($li)}$result.show()}}$("#search_keyword").on("keyup",(function(event){var $keyword,keyword=$(this).val(),bl;if(13==event.which)return $("#search_result .active").length>0&&(keyword=$("#search_result .active").eq(0).text()),void openSearch(keyword);moveChange(event)&&keywordChange(keyword)})).on("blur",(function(){$("#search_result").hide()})).on("focus",(function(){var keyword;keywordChange($(this).val())})),$("#clear_keyword").on("click",(function(){$("#search_keyword").val(""),$("#search_keyword").focus(),$(document).trigger("clearKeyword")})),$("#search_keyword").on("focus",(function(){$(".search-left").css({"border-style":"solid","border-color":"rgba(24, 144, 255, 1)","box-shadow":"0px 0px 2px 1px rgba(145, 213, 255, 0.96)"})})).on("blur",(function(){$(".search-left").prop("style","")})),$("#search_submit").on("click",(function(){var keyword=$("#search_keyword").val(),type=getSeachType(),baseUrl=search_types.find((function(item){return item.type===type}));baseUrl&&keyword&&window.open(baseUrl.url+keyword)})),$("#search_result").on("click","li",(function(){var word=$(this).text();$("#search_keyword").val(word),openSearch(word),$("#search_result").hide()})),$(document).on("clearKeyword",(function(){$("#clear_keyword").hide(),$("#search_result").hide()})),$(document).on("search",(function(e,keyword){getSearchResult(keyword)})),window.searchResultGoogle=searchResultGoogle,window.searchResultBaidu=searchResultBaidu;var search_suggest={baidu:{url:"https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su",data:function(keyword){return{wd:keyword,cb:"window.searchResultBaidu"}}},google:{url:"http://suggestqueries.google.com/complete/search",data:function(keyword){return{q:keyword,jsonp:"window.searchResultGoogle",client:"youtube"}}},wangpan:{url:"http://unionsug.baidu.com/su",data:function(keyword){return{wd:keyword,cb:"window.searchResultBaidu"}}}};function getSearchResult(keyword){var searchType=getSeachType(),suggest=search_suggest[searchType];suggest||(suggest=search_suggest.baidu),$.ajax({url:suggest.url,dataType:"jsonp",data:suggest.data(keyword)})}function openSearch(keyword){var type=getSeachType(),baseUrl=search_types.find((function(item){return item.type===type}));baseUrl&&keyword&&window.open(baseUrl.url+keyword)}$(window).scroll((function(){clearTimeout($.data(this,"scrollTimer")),$("header").show(),$.data(this,"scrollTimer",setTimeout((function(){$("header").hide()}),3e3))}))})),$(document).bind("DOMNodeInserted",(function(event){$('a[href^="http"]').each((function(){$(this).attr("target")||$(this).attr("target","_blank")}))}));